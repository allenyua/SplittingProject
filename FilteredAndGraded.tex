
It will be important for us to have a precise language for discussing filtered and graded spectra, what it means to be split, what it means to take associated graded, and the multiplicative aspects of these constructions. Here we review a framework from \cite{LurieRot} for studying graded and filtered objects.  The reader is referred to \cite{LurieRot} for a more thorough treatment and all proofs.  

%Let $\C$ be a symmetric monoidal stable $\infty$-category which admits filtered colimits.  
\subsection{First definitions}
Let $\D$ be an $\infty$-category which we will regard as the diagram category.  Our filtered objects will be valued in the functor category $\Sp^{\D}.$  This will be no more difficult than just ordinary spectra because limits, colimits, and smash products will be considered pointwise; in any case, we will refer to objects of $\Sp^{\D}$ as functors or simply as spectra.  

\begin{dfn} 
Let $\Gr(\Sp^{\D})$ denote the functor category $\Fun(\Z_{\geq 0}^{ds}, \Sp^{\D}).$  We shall refer to $\Gr(\Sp^{\D})$ as the category of graded objects in $\Sp^{\D}$.  Its objects can be thought of as sequences $X_0, X_1,X_2,\cdots \in \Sp^{\D}$.
\end{dfn}

\begin{dfn} 
Let $\Fil(\Sp^{\D})$ denote the functor category $\Fun(\Z_{\geq 0}, \Sp^{\D}).$  We shall refer to $\Fil(\Sp^{\D})$ as the category of filtered objects in $\Sp^{\D}$.  Its objects can be thought of as sequences $Y_0\to Y_1\to Y_2 \to \cdots \in \Sp^{\D}$ filtering $\colim_i Y_i$.  
\end{dfn}

\begin{rmk}\label{rmk:filtspaces}
We will occasionally also consider filtered objects in pointed spaces $\cS_*$, but we do not use them in an essential way in the paper so we restrict to spectra for the remainder of this section.  The issue is that the monoidal structure given by $\times$ does not preserve colimits separately in each variable, as it does not preserve the empty colimit.  The category $\Fil(\cS_*)$ of filtered pointed spaces nevertheless has a monoidal structure by Day convolution, but $\Gr(\cS_*)$ does not, and thus we do \emph{not} consider \emph{graded} pointed spaces.  
\end{rmk}


The obvious map $\Z_{\geq 0}^{ds} \to \Z_{\geq 0}$ induces a restriction functor $\text{res}: \Fil(\Sp^{\D}) \to \Gr(\Sp^{\D})$ which can be thought of as forgetting the maps in the filtered object.  The restriction fits into an adjunction  
$$I:\Gr(\Sp^{\D}) \xrightleftharpoons{\quad} \Fil(\Sp^{\D}) : \text{res}$$
where the left adjoint $I: \Gr(\Sp^{\D}) \to \Fil(\Sp^{\D})$ is given by left Kan extension.  The functor $I$ can be described explicitly as taking a graded object $X_0,X_1,X_2,\cdots$ to the filtered object $$I(X_0, X_1, \cdots) = (X_0\to X_0 \vee X_1\to X_0 \vee X_1 \vee X_2\to \cdots).$$   

Inverse to this, there is an associated graded functor $\text{gr }: \Fil(\Sp^{\D}) \to \Gr(\Sp^{\D})$ such that the composite $\text{gr }\circ I : \Gr(\Sp^{\D}) \to \Gr(\Sp^{\D})$ is an equivalence.   This can be thought of pointwise by the formula $$\text{gr}(X_0\to X_1\to X_2\to \cdots) = (X_0, X_1/X_0, X_2/X_1, \cdots).$$

As the names suggest, one may recover from a filtered or graded functor the underlying object.  For filtered objects, this is a functor $$\colim : \Fil(\Sp^{\D}) \to \Sp^{\D}$$ given by Kan extending along $\Z_{\geq 0}\to *.$   It can be thought of as taking the colimit.  For graded objects, the underlying object is simply the direct sum of all the graded pieces. We will systematically abuse notation by conflating a graded spectrum with its underlying spectrum; however, when there is any ambiguity, we will specify whether we are referring to the graded object or the underlying.

%, and will be written $$\bigvee : \Gr(\Sp^{\D}) \to \Sp^{\D}.$$



\subsection{Monoidal structures}\label{sect:monoidal}
We now begin studying the monoidal structures on graded and filtered spectra.  We confine ourselves to a basic discussion here, leaving a more technical discussion for Appendix \ref{app:day}.

%\cite[Corollary 2.3.9]{LurieRot}
By \cite{Glasman} or \cite[Example 2.2.6.17]{HA}, the categories $\Gr(\Sp)$ and $\Fil(\Sp)$ may be given symmetric monoidal structures via the Day convolution.  Then, via the identifications $\Gr(\Sp^{\D}) = \Gr(\Sp)^{\D}$ and $\Fil(\Sp^{\D}) = \Fil(\Sp)^{\D}$, the categories $\Gr(\Sp^{\D})$ and $\Fil(\Sp^{\D})$ may be given symmetric monoidal structures pointwise on $\D$.  In both cases, we denote the resulting operation by $\otimes$. Explicitly, the filtered tensor product $$\left(X_0 \longrightarrow X_1 \longrightarrow X_2 \longrightarrow \cdots \right) \otimes \left(Y_0 \longrightarrow Y_1 \longrightarrow Y_2 \longrightarrow \cdots \right)$$
of two filtered spectra is computed as

\begin{center}
$X_0 \smsh Y_0 \longrightarrow \colim $
\adjustbox{scale=0.7} 
{$ \left(\begin{tikzcd} X_0 \smsh Y_1 \\  X_0 \smsh Y_0 \arrow{u} \arrow{r} & X_1 \smsh Y_0 \end{tikzcd} \right) $} 
$\longrightarrow \colim$
\adjustbox{scale=0.7} {$ \left( \begin{tikzcd} X_0 \smsh Y_2 \\ X_0 \smsh Y_1 \arrow{r} \arrow{u} & X_1 \smsh Y_1  \\ X_0 \smsh Y_0 \arrow{r} \arrow{u} & X_1 \smsh Y_0 \arrow{u} \arrow{r} & X_2 \smsh Y_0 \end{tikzcd} \right) $}
$\longrightarrow \cdots.$
\end{center}

For graded spectra, the analogous formula is:

$$(A_0,A_1,A_2,\cdots) \otimes (B_0,B_1,B_2,\cdots) \simeq \left( A_0 \smsh B_0, (A_1 \smsh B_0) \vee (A_0 \smsh B_1), \cdots, \bigvee_{i+j=n} A_i \smsh B_j, \cdots \right).$$


The unit $\mathbb{S}^{gr}_{\D}$ of $\otimes$ in $\Gr(\Sp^{\D})$ is the constant diagram at $S^0$ in degree 0 and $*$ otherwise; the unit $\mathbb{S}^{fil}_{\D}$ in $\Fil(\Sp^{\D})$ is $I\mathbb{S}^{gr}_{\D}.$  We may then talk about $\E_n$-algebras in $\Gr(\Sp^{\D})$ and $\Fil(\Sp^{\D})$ and their modules.

\begin{rmk}
One consequence of this is that one can recover filtered spectra as a module category inside the category of graded spectra.  There is a symmetric monoidal functor $\mathbb{Z}^{ds}_{\ge 0} \to \Sp$ sending each integer to $S^0$; this yields an $\mathbb{E}_\infty$-algebra $A=\Sigma^{\infty}_+ \mathbb{Z}^{ds}_{\ge 0}$ in $\Gr(\Sp)$.  The spectrum underlying $A$ is an infinite wedge of copies of $\mathbb{S}^0$.  Given a filtered spectrum $X$, $\mathrm{res }(X)$ acquires an action of $A$ where the $S^0$ in degree $1$ acts by ``shifting filtration.''  In fact, we have the following, as proven in \cite[Proposition 3.1.6]{LurieRot}:

\begin{lem} \label{lem:FilAsGrMod}
The functor $\mathrm{res}$ lifts to an equivalence
$$\Fil(\Sp) \stackrel{\simeq}{\longrightarrow} \mathbf{Mod}_{A}(\Gr(\Sp))$$
of symmetric monoidal $\infty$-categories.
\end{lem}
\end{rmk}  


The functors $I$ and $\text{gr}$ can be given symmetric monoidal structures such that the composite $\text{gr}\circ I : \Gr(\Sp^{\D}) \to \Gr(\Sp^{\D})$ is a symmetric monoidal equivalence by \cite[Proposition 3.2.1]{LurieRot}.  It follows in particular that they extend to functors between the categories of $\E_n$-algebras in $\Gr(\Sp^{\D})$ and $\Fil(\Sp^{\D})$.  Thus, given an $\E_n$-algebra $Y$ in filtered spectra, we obtain a canonical $\E_n$ structure on its associated graded $\text{gr}(Y).$  Conversely, given $X\in \Alg_{\E_n}(\Gr(\Sp^{\D}))$, we obtain $IX\in \Alg_{\E_n}(\Fil(\Sp^{\D})).$  

\begin{dfn}
A filtered $\mathbb{E}_n$-algebra $X\in \Alg_{\E_n}(\Fil(\Sp^{\D}))$ is called \emph{$\E_n$-split} if there exists some $Y \in \Alg_{\E_n}(\Gr(\Sp^{\D}))$ with an equivalence $X \simeq IY$ in $\Alg_{\E_n}(\Fil(\Sp^{\D}))$.  
\end{dfn}

Given an $\E_n$-split filtered spectrum $X$, we can recover the underlying graded spectrum by taking the associated graded.  

\begin{exm}\label{exm:snaith}
In this example, we relate the Snaith splitting to the above notions of $\E_n$-split filtered spectrum.  Since the functors $\mathrm{res}$ and $\Omega^{\infty}$ are lax monoidal, we may consider the commutative diagram of right adjoints
$$
\begin{tikzcd}
\Gr(\Sp) & \Fil(\Sp) \arrow[l,"\mathrm{res}"] \arrow[r,"\Omega^{\infty}"] & \Fil(\cS_*) \\
\Alg_{\E_n}(\Gr(\Sp)) \arrow[u] & \Alg_{\E_n}(\Fil(\Sp))  \arrow[l,"\mathrm{res}"] \arrow[r,"\Omega^{\infty}"] \arrow[u]& \Alg_{\E_n}(\Fil(\cS_*)) \arrow[u]
\end{tikzcd}
$$
where the vertical maps forget the algebra structure.  This induces a corresponding commutative diagram of left adjoints
$$
\begin{tikzcd}
\Gr(\Sp) \arrow[r,"I"] \arrow[d,"F_{\E_n}"] & \Fil(\Sp)\arrow[d,"F_{\E_n}"] & \Fil(\cS_*) \arrow[d,"F_{\E_n}"]\arrow[l,"\Sigma^{\infty}"]\\
\Alg_{\E_n}(\Gr(\Sp))\arrow[r,"I"] & \Alg_{\E_n}(\Fil(\Sp))  & \Alg_{\E_n}(\Fil(\cS_*)) \arrow[l,"\Sigma^{\infty}_+"]
\end{tikzcd}
$$
where the vertical maps take free algebras.  Let $E$ be a spectrum and consider $E[1]$, the graded spectrum with $E$ in degree $1$.  The commutativity of the left square shows that the free $\E_n$-algebra in filtered spectra on $I(E[1])$ is $\E_n$-split.  Moreover, let $X\in \cS_*$ be a pointed space and $n>0$; work of \cite{May} determines the free $\E_n$-algebra on $X$ in pointed spaces to be $\Omega^n \Sigma^n X$, which comes with a canonical filtration.  We claim without proof that this is the free $\E_n$-filtered space on $X$ placed in filtration $1$.  The right square in this diagram verifies that its suspension is the free $\E_n$-algebra in filtered spectra on $I(\Sigma^{\infty} X [1])$, and thus, by the previous remarks, yields an $\E_n$-split filtered spectrum, demonstrating a structured version of the Snaith splitting \cite{SnaithSplit}.
\end{exm}

In this paper, we will be interested in when a given $\E_n$ filtered spectrum is $\E_n$-split.  Disregarding the multiplicative structure, a filtered spectrum $$X_0\longrightarrow X_1 \longrightarrow X_2 \longrightarrow \cdots ,$$ will split if and only if there are maps going the other way: $$X_0 \longleftarrow X_1 \longleftarrow X_2 \longleftarrow \cdots,$$ with the property that the relevant composites are equivalences.   To systematically talk about these backwards maps, we need the following definition:

\begin{dfn} Let $\Cofil(\Sp^{\D})$ denote the functor category $\Fun(\Z_{\geq 0}^{op}, \Sp^{\D}).$  We shall refer to $\Cofil(\Sp^{\D})$ as the category of cofiltered objects in $\Sp^{\D}$.  Its objects can be thought of as towers of functors $Y_0\leftarrow Y_1\leftarrow Y_2 \leftarrow \cdots \in \Sp^{\D}$.
\end{dfn}

In Appendix \ref{app:day}, we show how to give $\Cofil(\Sp^{\D})$ the structure of a symmetric monoidal $\infty$-category.  One might then correctly surmise that producing a multiplicatively structured splitting involves the multiplicativity of this opposite filtration.  In particular, we have the following criterion, which we prove in Appendix \ref{app:SplittingMachine} (we now switch from $\Sp^{\D}$ to $\Sp$ for ease of notation):

\begin{thm}\label{thm:SplitMachine}%maybe this is an iff
Let $X\in \Alg_{\E_n}(\Fil(\Sp))$ be an $\E_n$ filtered spectrum.  Suppose there exists an $\E_n$ cofiltered spectrum $Y\in \Alg_{\E_n}(\Cofil(\Sp))$ with the following two properties:
\begin{enumerate}
\item There is an equivalence $\mathrm{colim } X \simeq \lim Y$ of $\E_n$-algebras in spectra.
\item The resulting natural maps $X_i \to Y_i$ are equivalences.  
\end{enumerate}
Then, the filtered spectrum $X$ is $\E_n$-split.
\end{thm}







%%%Maybe it's worth making a remark about what these mean in terms of power operations, or say, the spectral sequence associated to the filtered object; maybe there's some sort of power operation on the $E_2$ page and you can say something about it...




